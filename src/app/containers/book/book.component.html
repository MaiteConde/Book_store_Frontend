<div class="shop">
<h1>Books</h1>
<p>“A well-composed book is a magic carpet on which we are wafted to a world that we cannot enter in any other way.”
  ― Caroline Gordon</p>
</div>

<div class="books">
    <div class="image">
        <img src="{{book.image_path}}" alt="">
    </div>
    <div class="book">
      <h2>{{book.name}}</h2>
      <button mat-button class="delete"  *ngIf="admins.includes(userService['user']['role'])" on-click="deleteBook(book)"><mat-icon>delete</mat-icon></button>  
   

      <p>{{book.Author.name}}</p>
      <p>{{book.resume}}</p>
      
      <p>${{book.price}}</p>


      <form #buyForm="ngForm" (submit)="buyBook(buyForm)"> 
  
        <mat-form-field>
          <mat-label>Quantity</mat-label>
          <input matInput name="units" type="number" #units="ngModel" name="units" id="units" [(ngModel)]= "unitsInput">
        </mat-form-field>
        <mat-form-field>
          <mat-label>Choose a delivery date</mat-label>
          <input matInput [matDatepicker]="picker" name="date" type="string" #date="ngModel" name="date" id="date" [(ngModel)]= "dateInput">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
  <button mat-raised-button color="primary" type="submit" >Add to cart</button>
</form>    
    </div>
  
  </div>

  
<div class="reviewsTittle">
<h1>Reviews:</h1>
  
<div class="reviewsContainer">

<div class="reviews"  *ngFor="let review of book.Reviews">
<h3>{{review.User.name}} said:</h3>
 <h4> {{review.review}}</h4> 
 <h5>Created at: {{review.createdAt}}</h5>
 <h5>Updated at: {{review.updatedAt}}</h5>
 
</div>
</div>

<div class="write">
 
Write a review:
<form #reviewForm="ngForm" (submit)="postReview(reviewForm)"> 
  
  <mat-form-field>
    <mat-label for="review">Review</mat-label>
    <input matInput name="review" #review="ngModel" id="review" [(ngModel)]= "input" required>
  </mat-form-field>

  <button mat-raised-button color="primary" type="submit" >Send</button>
</form>
</div>
</div>
